<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Neubrutalism Website Directory</title>
      <script src="https://cdn.tailwindcss.com"></script>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">

      <style>
            body {
                  font-family: 'Space Grotesk', sans-serif;
                  background-color: #f0f0f0;
            }

            .neubrutalism {
                  border: 3px solid #000;
                  box-shadow: 4px 4px 0 #000;
                  transition: all 0.2s ease;
            }

            .neubrutalism:hover {
                  transform: translate(-4px, -4px);
                  box-shadow: 8px 8px 0 #000;
            }

            .category-item.active {
                  background-color: #000;
                  color: #fff;
            }

            @media (max-width: 768px) {
                  .sidebar {
                        position: fixed;
                        bottom: 0;
                        left: 0;
                        right: 0;
                        height: auto;
                        z-index: 50;
                  }

                  .content {
                        margin-bottom: 4rem;
                  }
            }
      </style>
</head>

<body class="min-h-screen">
      <div class="container mx-auto p-4">
            <header class="mb-8">
                  <h1 class="text-4xl font-bold mb-2">CodeHubX Resources</h1>
                  <p class="text-gray-600">Discover amazing websites across different categories</p>
            </header>

            <div class="flex flex-col md:flex-row gap-6">
                  <!-- Sidebar -->
                  <div class="sidebar md:w-1/4 bg-white neubrutalism p-4">
                        <nav class="flex md:flex-col gap-2 overflow-x-auto md:overflow-x-visible">
                              <button class="category-item neubrutalism p-2 w-full text-left active" data-category="AI">
                                    <i class="bi bi-cpu"></i> AI
                              </button>
                              <button class="category-item neubrutalism p-2 w-full text-left"
                                    data-category="Entertainment">
                                    <i class="bi bi-film"></i> Entertainment
                              </button>
                              <button class="category-item neubrutalism p-2 w-full text-left"
                                    data-category="Fake Identity">
                                    <i class="bi bi-person-badge"></i> Fake Identity
                              </button>
                              <button class="category-item neubrutalism p-2 w-full text-left"
                                    data-category="Free Resources">
                                    <i class="bi bi-gift"></i> Free Resources
                              </button>
                              <button class="category-item neubrutalism p-2 w-full text-left"
                                    data-category="Github Repo's">
                                    <i class="bi bi-github"></i> Github Repo's
                              </button>
                              <button class="category-item neubrutalism p-2 w-full text-left" data-category="Piracy">
                                    <i class="bi bi-file-earmark-lock2-fill"></i> Piracy
                              </button>
                              <button class="category-item neubrutalism p-2 w-full text-left"
                                    data-category="Awesome Tools">
                                    <i class="bi bi-tools"></i> Awesome Tools
                              </button>
                        </nav>
                  </div>

                  <!-- Content -->
                  <div class="content md:w-3/4">
                        <div id="subcategories" class="mb-6 flex gap-2 overflow-x-auto">
                              <!-- Subcategories will be inserted here -->
                        </div>
                        <div id="websites" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                              <!-- Website cards will be inserted here -->
                        </div>
                  </div>
            </div>
      </div>

      <script>
            let websiteData;
            fetch('output.json')
                  .then(response => response.json())
                  .then(data => {
                        websiteData = data;
                        updateSubcategories('AI');
                  });

            function updateSubcategories(category) {
                  if (!websiteData[category]) {
                        console.error(`Category "${category}" not found in websiteData`);
                        return;
                  }

                  const subcategoriesDiv = document.getElementById('subcategories');
                  subcategoriesDiv.innerHTML = '';

                  Object.keys(websiteData[category].subcategories).forEach(subcat => {
                        const button = document.createElement('button');
                        button.className = 'neubrutalism p-2 whitespace-nowrap';
                        button.textContent = subcat;
                        button.onclick = () => showWebsites(category, subcat);
                        subcategoriesDiv.appendChild(button);
                  });

                  // Show first subcategory by default
                  const firstSubcat = Object.keys(websiteData[category].subcategories)[0];
                  showWebsites(category, firstSubcat);
            }

            function showWebsites(category, subcategory) {
                  const websitesDiv = document.getElementById('websites');
                  websitesDiv.innerHTML = '';

                  websiteData[category].subcategories[subcategory].forEach(site => {
                        const card = document.createElement('div');
                        card.className = 'neubrutalism p-4 bg-white';
                        card.innerHTML = `
                    <h3 class="font-bold text-lg mb-2">${site.name || 'No Name'}</h3>
                    <p class="text-gray-600 mb-4">${site.description || 'No Description'}</p>
                    <a href="${site.url}" target="_blank" class="inline-block bg-black text-white py-2 px-4 neubrutalism">
                        Visit Site <i class="bi bi-arrow-right"></i>
                    </a>
                `;
                        websitesDiv.appendChild(card);
                  });

                  // Update active subcategory
                  document.querySelectorAll('#subcategories button').forEach(btn => {
                        btn.classList.toggle('active', btn.textContent === subcategory);
                  });
            }

            // Set up category click handlers
            document.querySelectorAll('.category-item').forEach(item => {
                  item.addEventListener('click', (e) => {
                        // Update active state
                        document.querySelectorAll('.category-item').forEach(btn => btn.classList.remove('active'));
                        e.target.classList.add('active');

                        const category = e.target.dataset.category;
                        updateSubcategories(category);
                  });
            });
      </script>
</body>

</html>